anime.easings.noEase=function(){return 1},anime.easings.bulbEasing=function(e){return e>.5?1:0};var SimianCI={init:function(){this.nav(),this.mobileMenu(),this.animatePage()},options:{timeToChangeSlide:7e3},animatePage:function(){switch(window.location.pathname){case"/":this.leadAnimation(),this.featuresSlider(this.options.timeToChangeSlide)}},featuresSlider:function(e){function i(e){void 0===e&&(e=r.next(),e=e.length?e:t()),a(r),n(e),r=e}function t(){return $(".feature").first()}function n(e){var i=e.index();e.addClass("feature--active"),e.find(".feature-title").addClass("feature-title--active"),e.find(".feature-text").addClass("feature-text--active"),$(".features-image").eq(i).addClass("features-image--active")}function a(e){var i=e.index();e.removeClass("feature--active"),e.find(".feature-title").removeClass("feature-title--active"),e.find(".feature-text").removeClass("feature-text--active"),$(".features-image").eq(i).removeClass("features-image--active")}var r=$(".feature--active"),l=$(".features-container"),o=new this.Timer(i,e);l.on("click",function(e){var t,n=$(e.target);o.resetTimer(),(n.hasClass("feature")||n.hasClass("feature-title")||n.hasClass("feature-text"))&&(t=n.closest(".feature")),i(t)})},nav:function(){function e(e){n.hasClass("navbar--show")&&e||(t.toggleClass("navbar--show",!e),n.toggleClass("navbar--show",e))}function i(){e($(window).scrollTop()>a)}var t=$("#navbar"),n=$("#navbar-inverse"),a=20,r=$("#mobile-menu");i(),$(document).scroll(function(e){if(r.hasClass("mobile-menu--active"))return void e.preventDefault();i()})},mobileMenu:function(){function e(){t.toggleClass("menu-toggle--active"),a.toggleClass("mobile-menu--active"),n.toggleClass("modal-open")}var i=$(".menu-toggle-wrapper"),t=$(".menu-toggle"),n=$(document.body),a=$("#mobile-menu");i.on("click",function(i){e()})},leadAnimation:function(){function e(){for(var t,n=0;n<u.length;n++){t=i(t,u[n])}t.then(function(){setTimeout(function(){requestAnimationFrame(e)},c.timeToRestart)})}function i(e,i){var t=i.wire;return e=void 0===e?b(t):e.then(i.turnWireOn),e=e.then(function(){return Promise.all([f().then(d).then(v),i.animateLights()])}).then(i.turnWireOff).then(i.fixLights)}function t(e){var i=document.querySelectorAll("#lead-svg .cable_"+e);return[].slice.call(i)}function n(e){var i=document.querySelectorAll("#lead-svg #server_"+e+' *[fill="#93E10E"]');return[].slice.call(i)}function a(e,i){return i*c.timeBetweenServerLights}function r(e,i){return anime({targets:i,easing:"easeInOutSine",duration:e.duration,delay:function(e,i){return 50*i},fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,stroke:e.stroke}).finished}function l(e,i){return anime({targets:i,duration:e.duration,delay:e.delay,easing:"bulbEasing",fill:e.fill}).finished}function o(e,i){var t=anime({targets:"#lead-svg #lamp .bulb-light",delay:0,loop:e.loop,easing:"bulbEasing",duration:e.duration,fillOpacity:e.opacity,fill:i.stroke}).finished;if(i){var n=anime({targets:"#lead-svg #lamp .bulb-glass",delay:0,loop:e.loop,easing:"bulbEasing",duration:e.duration,stroke:i.stroke}).finished;return Promise.all([t,n])}return t}var s=$(".lead-svg"),u=(document.querySelectorAll("#lead-svg #monkey .face-item"),[{wireNumber:"01",serverNumber:"01"},{wireNumber:"02",serverNumber:"02"},{wireNumber:"03",serverNumber:"03"}]);s.addClass("lead-svg--show");var c={timesServerLights:600,timeBetweenServerLights:300,timeToRestart:1600,bulbDuration:840,bulbLoops:6,initialDrawingTime:100,wiresTime:1e3},m={inchWorm:"#93E10E",monza:"#D0011B",carnation:"#F15569",webOrange:"#FFA300",silver:"#C2C2C2",altSilver:"#BCBCBC"},f=o.bind(null,{duration:100,loop:!1,opacity:1},{stroke:m.monza}),d=o.bind(null,{duration:c.bulbDuration,loop:c.bulbLoops,opacity:1},{stroke:[m.monza,m.carnation]}),v=o.bind(null,{duration:100,loop:!1,opacity:0},{stroke:m.altSilver}),g=l.bind(null,{delay:a,duration:c.timesServerLights,fill:m.monza}),h=l.bind(null,{delay:a,duration:100,duration:c.timesServerLights,fill:m.inchWorm}),b=r.bind(null,{duration:c.wiresTime,fillOpacity:1,stroke:m.webOrange,strokeWidth:2.25}),p=r.bind(null,{duration:c.wiresTime,fillOpacity:0,stroke:m.silver,strokeWidth:1});u.map(function(e){var i=e;return i.wire=t(e.wireNumber),i.lights=n(e.serverNumber),i.turnWireOn=b.bind(null,i.wire),i.animateLights=g.bind(null,i.lights),i.turnWireOff=p.bind(null,i.wire),i.fixLights=h.bind(null,i.lights.concat().reverse()),i});new Vivus("lead-svg",{duration:c.initialDrawingTime,type:"delayed",animTimingFunction:Vivus.EASE,pathTimingFunction:Vivus.EASE_OUT},function(){requestAnimationFrame(e)});setTimeout(function(){requestAnimationFrame(function(){anime({targets:document.querySelectorAll(".non-regular"),easing:"easeInOutSine",duration:300,fillOpacity:1})})},300)},Timer:function(e,i){this.callback=e,this.time=i,this.createTimer=function(){this.interval=setInterval(this.callback,this.time)},this.resetTimer=function(){clearInterval(this.interval),this.createTimer()},this.createTimer()}};$(document).ready(function(){SimianCI.init()});